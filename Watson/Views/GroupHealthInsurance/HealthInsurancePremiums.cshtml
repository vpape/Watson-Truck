@model Watson.Models.InsurancePremium


@{
    ViewBag.Title = "HealthInsurancePremiums";
}

<h2>Health Insurance Premiums</h2>
<h1>Major Medical (includes 15K Life Insurance)</h1>
<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <title>Health Insurance Premiums</title>
</head>
<body>
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        @*@Html.HiddenFor(model => model.InsurancePremium_id, new { insPrm = Model.InsurancePremium_id })
        @Html.HiddenFor(model => model.InsurancePlan_id, new { insPlan_id = Model.InsurancePlan_id })*@
        @*@Html.HiddenFor(model => model.Employee_id, new { e_id = Model.Employee_id })*@
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <table class="table" cellpadding="20" cellspacing="20">
            <tr>
                <td>
                    <form id="insPremForm" action="InsurancePremium()" method="post">
                        <table id="InsPremTable" class="table table-hover" width="400" cellpadding="10" cellspacing="10" border="1">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Plan</th>
                                    <th>Employee/Only</th>
                                    <th>Employee/Spouse</th>
                                    <th>Employee/Child(ren)</th>
                                    <th>Employee/Family</th>
                                    <th>Yearly Cost</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <label>(MEC Plan) Monthly Cost per Employee</label>
                                        <div class="col-md-5">
                                            @*<input type="text" name="MECPlan" size="10" id="MECplan" value="" />*@
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="EmployeeOnly" size="10" id="MECmonthlyCostEmpOnly" value="" />
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="EmployeeAndSpouse" size="10" id="MECmonthlyCostEmpSp" value="" />
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="EmployeeAndDependent" size="10" id="MECmonthlyCostEmpDep" value="" />
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="EmployeeAndFamily" size="10" id="MECmonthlyCostEmpFam" value="" />
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="YearlyPremiumCost" size="10" id="yearlyPremiumCost" value="" />
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label>Bi-weekly Cost per Employee</label>
                                        <div class="col-md-5">
                                            @*<input type="text" name="MECPlan" size="10" id="MECplan" value="" />*@
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="EmployeeOnly" size="10" id="MECbiweeklyCostEmpOnly" value="" />
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="EmployeeAndSpouse" size="10" id="MECbiweeklyCostEmpSp" value="" />
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="EmployeeAndDependent" size="10" id="MECbiweeklyCostEmpDep" value="" />
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="EmployeeAndFamily" size="10" id="MECbiweeklyCostEmpFam" value="" />
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-5">
                                            <input type="text" name="YearlyPremiumCost" size="10" id="yearlyPremiumCost" value="" />
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p>
                            <button type="submit" class="btn btn-default" onclick="InsurancePremiumUpdate()" value="Submit">Save</button>
                        </p>
                    </form>
                </td>
            </tr>
        </table>
    }
    <hr />
    <p>
        These prices are in effect for 01-01-2019 through 12-31-2019

        Estimated costs* for COBRA participants for the 2019 year:

        Employee rate MEC plan $75.00 per month
        Employee/Family rate MEC plan $230.00 per month
        --------------------------------------------------
        Employee rate Premium plan $638.52 per month
        Employee/Family rate Premium plan $1,518 per month

        *Note: a 2% Adminstration fee will be added to the COBRA rates listed
    </p>
    <p></p>
    <div>
        <button onclick="GroupHealthEnrollment()" class="btn btn-outline-secondary">Previous</button> |
        <button onclick="HealthInsuranceSupplement()" class="btn btn-outline-secondary">Health Insurance Supplement</button>
    </div>
    @*<p>
            @Html.ActionLink("Insurance Supplement", "HealthInsuranceSupplement", new { insPrm = Model.InsurancePremium_id }) |
            @Html.ActionLink("Back to Family Overview", "FamilyMemberOverview")
        </p>*@
</body>
</html>

<script>
    function GetInsurancePremium() {

        MECmonthlyEO = document.getElementById('MECmonthlyCostEmpOnly').value
        MECmonthlyEmpSp = document.getElementById('MECmonthlyCostEmpSp').value
        MECmonthlyEmpDep = document.getElementById('MECmonthlyCostEmpDep').value
        MECmonthlyEmpFam = document.getElementById('MECmonthlyCostEmpFam').value

        MECbiweeklyEO = document.getElementById('MECbiweeklyCostEmpOnly').value
        MECbiweeklyEmpSp = document.getElementById('MECbiweeklyCostEmpSp').value
        MECbiweeklyEmpDep = document.getElementById('MECbiweeklyCostEmpDep').value
        MECbiweeklyEmpFam = document.getElementById('MECbiweeklyCostEmpFam').value

        StndmonthlyEO = document.getElementById('StndmonthlyCostEmpOnly').value
        StndmonthlyEmpSp = document.getElementById('StndmonthlyCostEmpSp').value
        StndmonthlyEmpDep = document.getElementById('StndmonthlyCostEmpDep').value
        StndmonthlyEmpFam = document.getElementById('StndmonthlyCostEmpFam').value

        StndbiweeklyEO = document.getElementById('StndbiweeklyCostEmpOnly').value
        StndbiweeklyEmpSp = document.getElementById('StndbiweeklyCostEmpSp').value
        StndbiweeklyEmpDep = document.getElementById('StndbiweeklyCostEmpDep').value
        StndbiweeklyEmpFam = document.getElementById('StndbiweeklyCostEmpFam').value

        BuyUpmonthlyEO = document.getElementById('BuyUpmonthlyCostEmpOnly').value
        BuyUpmonthlyEmpSp = document.getElementById('BuyUpmonthlyCostEmpSp').value
        BuyUpmonthlyEmpDep = document.getElementById('BuyUpmonthlyCostEmpDep').value
        BuyUpmonthlyEmpFam = document.getElementById('BuyUpmonthlyCostEmpFam').value

        BuyUpbiweeklyEO = document.getElementById('BuyUpbiweeklyCostEmpOnly').value
        BuyUpbiweeklyEmpSp = document.getElementById('BuyUpbiweeklyCostEmpSp').value
        BuyUpbiweeklyEmpDep = document.getElementById('BuyUpbiweeklyCostEmpDep').value
        BuyUpbiweeklyEmpFam = document.getElementById('BuyUpbiweeklyCostEmpAndFam').value
    }

    var data = {

        "MECmonthlyEO": MECmonthlyEO,
        "MECmonthlyEmpSp": MECmonthlyEmpSp,
        "MECmonthlyEmpDep": MECmonthlyEmpDep,
        "MECmonthlyEmpFam": MECmonthlyEmpFam,

        "MECbiweeklyEO": MECbiweeklyEO,
        "MECbiweeklyEmpSp": MECbiweeklyEmpSp,
        "MECbiweeklyEmpDep": MECbiweeklyEmpDep,
        "MECbiweeklyEmpFam": MECbiweeklyEmpFam,

        "StndmonthlyEO": StndmonthlyEO,
        "StndmonthlyEmpSp": StndmonthlyEmpSp,
        "StndmonthlyEmpDep": StndmonthlyEmpDep,
        "StndmonthlyEmpFam": StndmonthlyEmpFam,

        "StndbiweeklyEO": StndbiweeklyEO,
        "StndbiweeklyEmpSp": StndbiweeklyEmpSp,
        "StndbiweeklyEmpDep": StndbiweeklyEmpDep,
        "StndbiweeklyEmpFam": StndbiweeklyEmpFam,

        "BuyUpmonthlyEO": BuyUpmonthlyEO,
        "BuyUpmonthlyEmpSp": BuyUpmonthlyEmpSp,
        "BuyUpmonthlyEmpDep": BuyUpmonthlyEmpDep,
        "BuyUpmonthlyEmpFam": BuyUpmonthlyEmpFam,

        "BuyUpbiweeklyEO": BuyUpbiweeklyEO,
        "BuyUpbiweeklyEmpSp": BuyUpbiweeklyEmpSp,
        "BuyUpbiweeklyEmpDep": BuyUpbiweeklyEmpDep,
        "BuyUpbiweeklyEmpFam": BuyUpbiweeklyEmpFam,
    }


    var ret = postData('/Family_Info/InsurancePremium', data)
        .then(data => InsurancePremiumUpdate(data))
        .catch(error => console.error(error))

    ret();

    function postData(url, data) {
        //Default options are marked with *
        return fetch(url, {
            body: JSON.stringify(data), //must match 'Content-Type' header
            cache: 'no-cache', //*default, no-cache, reload, force-cache, only-if-cached
            credentials: 'same-origin', //include, same-origin, *omit
            headers: {
                'user-agent': 'Mozilla/4.0 MDN Example',
                'content-type': 'application/json'
            },
            method: 'Post', //*GET, POST, PUT, DELETE, etc...
            mode: 'cors', //no-cors, cors, *same-origin
            redirect: 'follow', //manual, *follow, error
            referrer: 'no-referrer', //*client, no-referrer
        })
            .then(Response => Response.json()) //parses response to JSON
    }
    
</script>

<style>
    table {
        border-collapse: collapse;
        width: 100%;
    }

    table tr {
        border-bottom: 1px solid black;
    }

    th, td {
        text-align: left;
        padding: 8px;
    }
    
    th{
        border-bottom: 5px solid black;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    a {
        text-decoration: none;
        display: inline-block;
        padding: 8px 16px;
    }

    a:hover {
        background-color: #ddd;
        color: black;
    }
</style>

