@model Watson.Models.Group_Health


@{
    ViewBag.Title = "HealthInsurancePremiums";
}

<h2>Health Insurance Premiums</h2>
<h1>Major Medical (includes 15K Life Insurance)</h1>
<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <title>Health Insurance Premiums</title>
</head>
<body>
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        @Html.HiddenFor(model => model.GroupHealthInsurance_id, new { grpH_id = Model.GroupHealthInsurance_id })
        @Html.HiddenFor(model => model.Employee_id, new { e_id = Model.Employee_id })
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <table class="table" cellpadding="20" cellspacing="20">
            <tr>
                <td>
                    <form id="insPremForm" action="InsurancePremium()" method="post">
                        <table id="InsPremTable" class="table table-hover" width="400" cellpadding="10" cellspacing="10" border="1">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Plan</th>
                                    <th>Employee/Only</th>
                                    <th>Employee/Spouse</th>
                                    <th>Employee/Child(ren)</th>
                                    <th>Employee/Family</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>(MEC Plan) Monthly Cost <br /> per Employee</td>
                                    <td>
                                        <div class="col-md-10">
                                            <input type="text" id="empOnly1" value="" /><p>Cost for Employee Only</p>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-10">
                                            <input type="text" id="empAndSpouse1" value="" /><p>Cost for Employee/Spouse</p>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-10">
                                            <input type="text" id="empAndChildren1" value="" /><p>Cost for Employee/Children</p>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="col-md-10">
                                            <input type="text" id="empAndFamily1" value="" /><p>Cost for Employee/Family</p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>(MEC Plan) Employee Cost <br /> per Payday</td>
                                    <td id="empOnly2" value="">Cost for Employee Only</td>
                                    <td id="empAndSpouse2" value="">Cost for Employee/Spouse</td>
                                    <td id="empAndChildren2" value="">Cost for Employee/Children</td>
                                    <td id="empAndFamily2" value="">Cost for Employee/Family</td>
                                </tr>
                                <tr>
                                    <td>(Standard Plan) Monthly Cost <br /> per Employee</td>
                                    <td id="empOnly3" value="">Cost for Employee Only</td>
                                    <td id="empAndSpouse3" value="">Cost for Employee/Spouse</td>
                                    <td id="empAndChildren3" value="">Cost for Employee/Children</td>
                                    <td id="empAndFamily3" value="">Cost for Employee/Family</td>
                                </tr>
                                <tr>
                                    <td>(Standard Plan) Employee Cost <br /> per Payday</td>
                                    <td id="empOnly4" value="">Cost for Employee Only</td>
                                    <td id="empAndSpouse4" value="">Cost for Employee/Spouse</td>
                                    <td id="empAndChildren4" value="">Cost for Employee/Children</td>
                                    <td id="empAndFamily4" value="">Cost for Employee/Family</td>
                                </tr>
                                <tr>
                                    <td>(Buy Up Plan) Monthly Cost <br /> per Employee</td>
                                    <td id="empOnly5" value="">Cost for Employee Only</td>
                                    <td id="empAndSpouse5" value="">Cost for Employee/Spouse</td>
                                    <td id="empAndChildren5" value="">Cost for Employee/Children</td>
                                    <td id="empAndFamily5" value="">Cost for Employee/Family</td>
                                </tr>
                                <tr>
                                    <td>(Buy Up Plan) Employee Cost <br /> per Payday</td>
                                    <td id="empOnly6" value="">Cost for Employee Only</td>
                                    <td id="empAndSpouse6" value="">Cost for Employee/Spouse</td>
                                    <td id="empAndChildren6" value="">Cost for Employee/Children</td>
                                    <td id="empAndFamily6" value="">Cost for Employee/Family</td>
                                </tr>
                            </tbody>
                        </table>
                        <p>
                            <button type="submit" onclick="InsurancePremiumUpdate()" value="Save" class="next"></button>
                        </p>
                    </form>
                </td>
            </tr>
        </table>
    }
    <hr />
    <p>
        These prices are in effect for 01-01-2019 through 12-31-2019

        Estimated costs* for COBRA participants for the 2019 year:

        Employee rate MEC plan $75.00 per month
        Employee/Family rate MEC plan $230.00 per month
        --------------------------------------------------
        Employee rate Premium plan $638.52 per month
        Employee/Family rate Premium plan $1,518 per month

        *Note: a 2% Adminstration fee will be added to the COBRA rates listed
    </p>
    <p></p>
    <div>
        <button onclick="GroupHealthEnrollment()" class="btn btn-outline-secondary">Previous</button> |
        <button onclick="HealthInsuranceSupplement()" class="btn btn-outline-secondary">Health Insurance Supplement</button>
    </div>
    <p>
        @Html.ActionLink("Insurance Supplement", "HealthInsuranceSupplement", new { grpH_id = Model.GroupHealthInsurance_id }) |
        @Html.ActionLink("Back to Family Overview", "FamilyMemberOverview", new { e_id = Model.Employee_id })
    </p>
</body>
</html>

<script>
    function GetInsurancePremium() {

        empOnly1 = document.getElementById('empOnly1').value
        empAndSpouse1 = document.getElementById('empAndSpouse1').value
        empAndChildren1 = document.getElementById('empAndChildren1').value
        empAndFamily1 = document.getElementById('empAndFamily1').value

        empOnly2 = document.getElementById('empOnly2').value
        empAndSpouse2 = document.getElementById('empAndSpouse2').value
        empAndChildren2 = document.getElementById('empAndChildren2').value
        empAndFamily2 = document.getElementById('empAndFamily2').value

        empOnly3 = document.getElementById('empOnly3').value
        empAndSpouse3 = document.getElementById('empAndSpouse3').value
        empAndChildren3 = document.getElementById('empAndChildren3').value
        empAndFamily3 = document.getElementById('empAndFamily3').value

        empOnly4 = document.getElementById('empOnly4').value
        empAndSpouse4 = document.getElementById('empAndSpouse4').value
        empAndChildren4 = document.getElementById('empAndChildren4').value
        empAndFamily4 = document.getElementById('empAndFamily4').value

        empOnly5 = document.getElementById('empOnly5').value
        empAndSpouse5 = document.getElementById('empAndSpouse5').value
        empAndChildren5 = document.getElementById('empAndChildren5').value
        empAndFamily5 = document.getElementById('empAndFamily5').value

        empOnly6 = document.getElementById('empOnly6').value
        empAndSpouse6 = document.getElementById('empAndSpouse6').value
        empAndChildren6 = document.getElementById('empAndChildren6').value
        empAndFamily6 = document.getElementById('empAndFamily6').value
    }

    var data = {

        "empOnly1": empOnly1,
        "empAndSpouse1": empAndSpouse1,
        "empAndChildren1": empAndSpouse1,
        "empAndFamily1": empAndFamily1,

        "empOnly2": empOnly2,
        "empAndSpouse2": empAndSpouse2,
        "empAndChildren2": empAndSpouse2,
        "empAndFamily2": empAndFamily2,

        "empOnly3": empOnly3,
        "empAndSpouse3": empAndSpouse3,
        "empAndChildren3": empAndSpouse3,
        "empAndFamily3": empAndFamily3,

        "empOnly4": empOnly4,
        "empAndSpouse4": empAndSpouse4,
        "empAndChildren4": empAndSpouse4,
        "empAndFamily4": empAndFamily4,

        "empOnly5": empOnly5,
        "empAndSpouse5": empAndSpouse5,
        "empAndChildren5": empAndSpouse5,
        "empAndFamily5": empAndFamily5,

        "empOnly6": empOnly6,
        "empAndSpouse6": empAndSpouse6,
        "empAndChildren6": empAndSpouse6,
        "empAndFamily6": empAndFamily6,
    }


    var ret = postData('/Family_Info/InsurancePremium', data)
        .then(data => InsurancePremiumUpdate(data))
        .catch(error => console.error(error))

    ret();

    function postData(url, data) {
        //Default options are marked with *
        return fetch(url, {
            body: JSON.stringify(data), //must match 'Content-Type' header
            cache: 'no-cache', //*default, no-cache, reload, force-cache, only-if-cached
            credentials: 'same-origin', //include, same-origin, *omit
            headers: {
                'user-agent': 'Mozilla/4.0 MDN Example',
                'content-type': 'application/json'
            },
            method: 'Post', //*GET, POST, PUT, DELETE, etc...
            mode: 'cors', //no-cors, cors, *same-origin
            redirect: 'follow', //manual, *follow, error
            referrer: 'no-referrer', //*client, no-referrer
        })
            .then(Response => Response.json()) //parses response to JSON
    }
    
</script>

<style>
    table {
        border-collapse: collapse;
        width: 100%;
    }

    table tr {
        border-bottom: 1px solid black;
    }

    th, td {
        text-align: left;
        padding: 8px;
    }
    
    th{
        border-bottom: 5px solid black;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    a {
        text-decoration: none;
        display: inline-block;
        padding: 8px 16px;
    }

    a:hover {
        background-color: #ddd;
        color: black;
    }

    .next {
        background-color: #2d499c;
        color: white;
    }
</style>

